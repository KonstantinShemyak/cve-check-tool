include $(top_srcdir)/common.mk

if COVERAGE
AM_CFLAGS += --coverage
endif

TESTS = \
	check_core \
	check_jira_plugin \
	check_packaging

check_PROGRAMS = \
	check_core \
	check_jira_plugin \
	check_packaging

check_core_SOURCES = \
	check-core.c

check_core_CFLAGS = \
	$(GLIB_CFLAGS) \
	$(GIO_CFLAGS) \
	$(LIBXML2_CFLAGS) \
	$(AM_CFLAGS) \
	$(CHECK_CFLAGS)

check_core_LDADD = \
	$(GLIB_LIBS) \
	$(GIO_LIBS) \
	$(LIBXML2_LIBS) \
	$(CHECK_LIBS)

check_jira_plugin_SOURCES = \
	check-jira-plugin.c

check_jira_plugin_CFLAGS = \
	$(check_core_CFLAGS) \
	$(LIBJSON_GLIB_CFLAGS) \
	$(LIBCURL_CFLAGS) \
	$(AM_CFLAGS) \
	$(CHECK_CFLAGS)


check_jira_plugin_LDADD = \
	$(check_core_LDADD) \
	$(LIBCURL_LIBS) \
	$(LIBJSON_GLIB_LIBS)


check_packaging_SOURCES = \
	check-packaging.c

check_packaging_CFLAGS = \
	$(GLIB_CFLAGS) \
	$(GIO_CFLAGS) \
	$(LIBXML2_CFLAGS) \
	$(AM_CFLAGS) \
	$(CHECK_CFLAGS)

check_packaging_LDADD = \
	$(GLIB_LIBS) \
	$(GIO_LIBS) \
	$(LIBXML2_LIBS) \
	$(CHECK_LIBS)
