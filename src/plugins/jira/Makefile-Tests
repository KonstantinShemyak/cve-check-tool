# Temporary make file.  Integrate later
# json-glib and libcurl are dependencies 
CC=gcc
CFLAGS = -I. -I../../ $(shell pkg-config --cflags glib-2.0)
CFLAGS += $(shell pkg-config --cflags json-glib-1.0)
LDFLAGS = -lcurl
LDFLAGS += $(shell pkg-config --libs glib-2.0)
LDFLAGS += $(shell pkg-config --libs json-glib-1.0)

all: jira jira_test_client

jira_test_client: jira.o template.o jira_test_client.c
	$(CC) -o jira_test_client jira_test_client.c jira.o cve-string.o template.o $(CFLAGS) $(LDFLAGS)

jira: jira.c
	$(CC) -g -c jira.c ../../cve-string.c ../../template.c $(CFLAGS) $(LDFLAGS)

clean:
	rm -f jira.o cve-string.o template.o jira_test_client *.csv *.txt *.xml *.json
